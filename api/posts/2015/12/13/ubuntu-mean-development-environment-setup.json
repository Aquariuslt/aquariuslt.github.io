{"key":"ubuntu-mean-development-environment-setup","url":"https://zexo.dev/posts/2015/12/13/ubuntu-mean-development-environment-setup","path":"/posts/2015/12/13/ubuntu-mean-development-environment-setup","title":"Linux Mean 开发环境搭建 | zexo.dev","breadcrumbs":{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://zexo.dev","name":"Home","position":1},{"@type":"ListItem","item":"https://zexo.dev/posts","name":"Posts","position":2},{"@type":"ListItem","item":"https://zexo.dev/posts/2015/12/13/ubuntu-mean-development-environment-setup","name":"Linux Mean 开发环境搭建","position":3}]},"type":"DETAIL","metas":[{"name":"google-site-verification","content":"s3PYm0fCo0ImPqqXoPLiUb_bFdlYODKw54VGSkcFgyE"},{"id":"google-analytics","name":"google-analytics","content":"UA-68904127-2"},{"name":"og:site_name","content":"zexo.dev"},{"name":"og:type","content":"website"},{"name":"og:title","itemprop":"name","content":"Linux Mean 开发环境搭建"},{"name":"og:description","itemprop":"description","content":"最近一个项目中需要用到Redis和 Node.js 操作 OracleDB,而 Windows 下开发就是屁事多. 恰好用到的这两个东西,都写明了官方不支持 Windows,Redis在 Widnows 下的版本是由微软的工程师们在维护. 在 Windows 下搭建好了环境之后,发现Redis在 Windows 下会有一些常见的崩溃情况,上网搜了下估计是 Windows 才会有的情况. 本篇主要介绍在 Linux(Ubuntu)下搭建 MEAN Stack 的相关内容,包括:\n"},{"name":"og:image","itemprop":"image","content":"https:/zexo.dev/posts/2015/12/13/ubuntu-mean-development-environment-setup/cover.png"},{"name":"og:type","content":"article"},{"name":"description","itemprop":"description","content":"最近一个项目中需要用到Redis和 Node.js 操作 OracleDB,而 Windows 下开发就是屁事多. 恰好用到的这两个东西,都写明了官方不支持 Windows,Redis在 Widnows 下的版本是由微软的工程师们在维护. 在 Windows 下搭建好了环境之后,发现Redis在 Windows 下会有一些常见的崩溃情况,上网搜了下估计是 Windows 才会有的情况. 本篇主要介绍在 Linux(Ubuntu)下搭建 MEAN Stack 的相关内容,包括:\n"}],"data":{"title":"Linux Mean 开发环境搭建","id":"ubuntu-mean-development-environment-setup","created":"2015-12-13T00:00:00.000Z","updated":"2015-12-13T00:00:00.000Z","categories":[{"id":"blog","label":"Blog","total":0,"link":"/categories/blog"}],"tags":[{"id":"ubuntu","label":"Ubuntu","total":0,"link":"/tags/ubuntu"},{"id":"linux","label":"Linux","total":1,"link":"/tags/linux"},{"id":"intellij-idea","label":"IntelliJ IDEA","total":2,"link":"/tags/intellij-idea"}],"cover":"/posts/2015/12/13/ubuntu-mean-development-environment-setup/cover.png","images":["./update-nodejs.png","./add-oracle-cli-global-env-var.png","./config-jdk-path.png","./add-app-launch-icon.png","./check-run-configuration.png"],"toc":[{"label":"Linux Mean 开发环境搭建","level":1,"id":"linux-mean-开发环境搭建","position":0,"children":[{"label":"Background","level":2,"id":"background","position":1,"children":[],"pid":0},{"label":"Linux 下 Redis 的安装与配置","level":2,"id":"linux-下-redis-的安装与配置","position":2,"children":[{"label":"下载","level":3,"id":"下载","position":3,"children":[],"pid":2},{"label":"安装","level":3,"id":"安装","position":4,"children":[],"pid":2},{"label":"以服务运行","level":3,"id":"以服务运行","position":5,"children":[],"pid":2}],"pid":0},{"label":"Ubuntu 下 Node.js 与 MongoDB 的安装与配置","level":2,"id":"ubuntu-下-nodejs-与-mongodb-的安装与配置","position":6,"children":[{"label":"更新 Ubuntu 的包管理器","level":3,"id":"更新-ubuntu-的包管理器","position":7,"children":[],"pid":6},{"label":"通过包管理器安装 Node.js","level":3,"id":"通过包管理器安装-nodejs","position":8,"children":[],"pid":6}],"pid":0},{"label":"Linux 下 Node-OracleDB 的配置","level":2,"id":"linux-下-node-oracledb-的配置","position":9,"children":[{"label":"下载 OracleInstantClient for Linux","level":3,"id":"下载-oracleinstantclient-for-linux","position":10,"children":[],"pid":9},{"label":"设置环境变量","level":3,"id":"设置环境变量","position":11,"children":[],"pid":9}],"pid":0},{"label":"Ubuntu 下 IntelliJ IDEA 的配置","level":2,"id":"ubuntu-下-intellij-idea-的配置","position":12,"children":[{"label":"安装 JDK","level":3,"id":"安装-jdk","position":13,"children":[],"pid":12},{"label":"配置 Idea 在 Ubuntu 中的启动图标","level":3,"id":"配置-idea-在-ubuntu-中的启动图标","position":14,"children":[],"pid":12},{"label":"Idea 在 Ubuntu 下一些特殊的配置","level":3,"id":"idea-在-ubuntu-下一些特殊的配置","position":15,"children":[],"pid":12}],"pid":0}],"pid":-1}],"summary":"最近一个项目中需要用到Redis和 Node.js 操作 OracleDB,而 Windows 下开发就是屁事多. 恰好用到的这两个东西,都写明了官方不支持 Windows,Redis在 Widnows 下的版本是由微软的工程师们在维护. 在 Windows 下搭建好了环境之后,发现Redis在 Windows 下会有一些常见的崩溃情况,上网搜了下估计是 Windows 才会有的情况. 本篇主要介绍在 Linux(Ubuntu)下搭建 MEAN Stack 的相关内容,包括:\n","src":"\n# Linux Mean 开发环境搭建\n\n## Background\n\n最近一个项目中需要用到`Redis`和 Node.js 操作 OracleDB,而 Windows 下开发就是屁事多. 恰好用到的这两个东西,都写明了官方不支持 Windows,`Redis`在 Widnows 下的版本是由微软的工程师们在维护. 在 Windows 下搭建好了环境之后,发现`Redis`在 Windows 下会有一些常见的崩溃情况,上网搜了下估计是 Windows 才会有的情况. 本篇主要介绍在 Linux(Ubuntu)下搭建 MEAN Stack 的相关内容,包括:\n\n- Linux 下`Redis`的安装与配置\n- Ubuntu 下`Node.js`与`MongoDB`安装与配置\n- Linux 下`oracledb`的安装与配置\n- Ubuntu 下`IntelliJ IDEA`的配置\n\n> 可能看起来有点奇怪,为什么我会`Linux`,`Ubuntu`这样穿插这顺序反过来写这是因为由于`Ubuntu`安装`Node.js`这方面我使用的是 `apt-get`来管理安装包而`oracledb`又是`Node.js`的一个类库\n\n## Linux 下 Redis 的安装与配置\n\n### 下载\n\n从官方地址 [https://github.com/antirez/redis/archive/2.8.23.tar.gz](https://github.com/antirez/redis/archive/2.8.23.tar.gz) 下载. 由于项目用到的 Redis 版本是 2.8,所以下的是 2.8 版本.\n\n### 安装\n\n将 redis2.8.23.tar.gz 解压到任意文件夹.\n\n> 目前按照个人习惯还是放在 home 下面一个叫 server 的目录但是 unix 系统的路径与程序摆放位置应该是大有讲究的,近期将会加强研究之后更新结论先凑合着放\n\n此时文件列表应该如下:\n\n```\nMacbook:redis-2.8.23 Aquariuslt$ tree -L 1\n.\n├── 00-RELEASENOTES\n├── BUGS\n├── CONTRIBUTING\n├── COPYING\n├── INSTALL\n├── MANIFESTO\n├── Makefile\n├── README\n├── deps\n├── redis.conf\n├── runtest\n├── runtest-sentinel\n├── sentinel.conf\n├── src\n├── tests\n└── utils\n\n4 directories, 12 files\n\n```\n\n看到有`makefile`就知道需要自己编译一边,其实这里按照官网的 Installation 就可以. 直接输入`make`编译\n\n```\n$ wget https://download.redis.io/releases/redis-3.0.5.tar.gz\n$ tar xzf redis-3.0.5.tar.gz\n$ cd redis-3.0.5\n$ make\n```\n\n### 以服务运行\n\n在`Redis`安装目录下有一些脚本,执行之后,帮助以 Service 运行\n\n```\n\nIn order to install Redis binaries into /usr/local/bin just use:\n\n    % make install\n\nYou can use \"make PREFIX=/some/other/directory install\" if you wish to use a\ndifferent destination.\n\nMake install will just install binaries in your system, but will not configure\ninit scripts and configuration files in the appropriate place. This is not\nneeded if you want just to play a bit with Redis, but if you are installing\nit the proper way for a production system, we have a script doing this\nfor Ubuntu and Debian systems:\n\n    % cd utils\n    % ./install_server.sh\n\nThe script will ask you a few questions and will setup everything you need\nto run Redis properly as a background daemon that will start again on\nsystem reboots.\n\nYou'll be able to stop and start Redis using the script named\n/etc/init.d/redis_<portnumber>, for instance /etc/init.d/redis_6379.\n```\n\n如果执行`make install`命令,则自动 ln 到`/usr/local/bin` 如果执行`utils`路径下的`install_server.sh`则会添加启动项,开机自动运行.\n\n## Ubuntu 下 Node.js 与 MongoDB 的安装与配置\n\n> 在 Linux 下`Node.js`的安装并不像`Windows`,`OS X`有.msi,.pkg 安装包走 UI 安装. 但是在各个发行版的 Linux 下都有自己对应的包管理器. `Ubuntu`就有自己的包管理器`apt-get`(但是会有坑)\n\nUbuntu 安装`Node.js`可以分成如下步骤\n\n1. 更新包管理器的版本,使之能够获取最新版本的应用程序包\n2. 通过包管理器,安装`Node.js`\n3. 通过`npm`再更新一次`Node.js`\n\n### 更新 Ubuntu 的包管理器\n\n```\n$apt-get update\n```\n\n### 通过包管理器安装 Node.js\n\n```\n$apt-get install nodejs-legacy\n```\n\n通过此命令安装的是一个比较老版本的 Node.js 输入查看版本命令大概是 node v0.10 和 npm v1.14\n\n> 我也不知道为什么 Ubuntu 的 package list 更新了之后 Node.js 包版本还是那么低.. 下面更新的 Node.js 版本以 2015-12-13 官网的稳定版本为准\n\n```\nnode -v && npm -v\n```\n\n这时候,首先先升级 `npm` 到 `npm3`\n\n```\n$npm install -g npm\n```\n\n> 此时 npm 的版本应该更新到 v3.5.1+\n\n然后通过`npm`安装一个用`node`去切换`node`版本的库,叫做`n`\n\n```\n$npm install -g n\n```\n\n接着用`n`去安装所需版本的`node.js`\n\n```\n$n v4.2.3\n```\n\n重启电脑之后在查看`node`和`npm`版本,应该如下图 ![更新Node.js](./update-nodejs.png)\n\n## Linux 下 Node-OracleDB 的配置\n\nLinux 下搭建好 node-oracledb 也是相当操蛋. 大概需要做下面几个工作:\n\n- 下载 version >= 11.2 的 OracleInstantClient(basic&sdk)\n- 设置环境变量,供构建 npm install oracledb 构建使用\n\n### 下载 OracleInstantClient for Linux\n\n官网还要登陆下载,太过傻逼.所以放出了个某度的链接 [https://pan.baidu.com/s/1boxV2iV](https://pan.baidu.com/s/1boxV2iV)\n\n### 设置环境变量\n\n先将下载的两个 zip 包解压到`/opt/oracle/instantclient`下.\n\n> 官方推荐,可自行替换路径\n\n然后修改全局的环境变量.\n\n> **注意** 这里说的是 **全局变量**,这里曾经被坑过一次. 通过命令行的 `export PATH=XXX:PATH`之类的命令.只能作为临时变量,重启之后就会失效而 Linux 的环境变量,跟 Windows 类似,也分成全局的环境变量和当前用户的环境变量. 在系统启动之后,先读取全局变量,用户登陆之后,再继承全局环境变量的前提下,读取当前用户的环境变量\n\n```\n$sudo gedit /etc/profile\n```\n\n在底部添加如下内容\n\n```\n# Export Oracle Client Varirable\nexport OCI_LIB_DIR=/opt/oracle/instantclient\nexport OCI_INC_DIR=/OPT/oracle/instantclient\nexport ORACLE_HOME=$OCI_LIB_DIR\nexport LD_LIBRARY_PATH=/opt/oracle/instantclient:$LD_LIBRARY_PATH\n```\n\n![添加Oracle Client 相关全局环境变量](./add-oracle-cli-global-env-var.png)\n\n此时执行命令安装 `oracledb` 大概应该不会出问题了\n\n> 其实还有个小问题,`oracledb`得必须是 1.3.0 以上的版本..不然爆的错我也无法入手解决\n\n```\n$npm install oracledb\n```\n\n## Ubuntu 下 IntelliJ IDEA 的配置\n\n终于到重头戏了.其实我就是想说这个在 GNOME 下安装 Idea 遵循下面几步\n\n1. 安装 JDK,设置 JDK 相关环境变量\n2. 配置 Idea 在 Ubuntu 的启动图标\n3. 一些关于 Idea 在 Linux 下与 Widnows/Mac 不同的特殊配置\n\n### 安装 JDK\n\n从 Oracle 官网下载 Linux 版本 jdk,解压到`/usr/lib/jvm/jdk8`下.\n\n> 该路径也是个人喜好,官网推荐这么做就照做了因为 Idea 启动的时候需要检查 Java 的安装.且是按照`IDEA_JDK`, `JDK_HOME`,`JAVA_HOME`的顺序来进行查找,只要其中之一存在且对应了 JDK 的路径即可\n\n所以,在系统中添加全局环境变量如下图\n\n```\n$sudo gedit /etc/profile\n```\n\n在底部添加\n\n```\n# Set JAVA_HOME fOR Maven/Idea Settings\nexport JAVA_HOME=/usr/lib/jvm/jdk8\nexport JDK_HOME=$JAVA_HOME\nexport IDEA_JDK=$JAVA_HOME\nexport PATH=$PATH:$JAVA_HOME/bin\n```\n\n保存后,查看 java 版本\n\n```\n$java -version\n```\n\n![配置JDK路径](./config-jdk-path.png)\n\n### 配置 Idea 在 Ubuntu 中的启动图标\n\n默认情况下,通过 Idea 目录下的`/bin/idea.sh`即可启动 IdeaUI 但是为了能够显示 Ubuntu 的 docker 里面(左边那条任务栏,不知道叫什么东西,叫 docker 吧)\n\n需要在`/usr/share/applications`下新建一个`intellij-idea.desktop` 加个配置文件\n\n> 我本地的 Idea 解压后的目录在`/home/dev/Applications/IntellijIdea15`\n\n```\n[Desktop Entry]\nType=Application\nName=IntelliJ IDEA\nComment=The best Java and MEAN IDE\nIcon=/home/dev/Applications/IntellijIdea15/bin/idea.png\nExec=/home/dev/Applications/IntellijIdea15/bin/idea.sh\nTerminal=false\nCategories=Development;IDE;Java;\n```\n\n![添加Ubuntu Applications启动图标](./add-app-launch-icon.png)\n\n### Idea 在 Ubuntu 下一些特殊的配置\n\n> 虽然都是类 Unix 系统,Idea 跟 Mac 在一些读取环境变量时候的做法不大一样. 本质上其实还是我对他认识不够深,还找不到原因..以后找到会更新 Liux 下在`run configuration`里面添加新的`Node.js`脚本或者`shell`脚本的时候,有一些不一样的地方就是通过 Ubuntu 桌面启动 Idea,会读不到用户级别的环境变量. 所以有一在配置一些的脚本的时候,需要确保运行时的环境变量,查看方法\n\n在`Run Configurations`->`Environment Variables`->`Include Parents Variables`->`Show` 查看所有环境变量. 如果没有,烦请自己加上,为求能达到与 Terminal 运行同样的结果.\n\n![查看Run Configurations全局变量](./check-run-configuration.png)\n","html":"<h1 id=\"linux-mean-开发环境搭建\">Linux Mean 开发环境搭建</h1>\n<h2 id=\"background\">Background</h2>\n<p>最近一个项目中需要用到<code>Redis</code>和 Node.js 操作 OracleDB,而 Windows 下开发就是屁事多. 恰好用到的这两个东西,都写明了官方不支持 Windows,<code>Redis</code>在 Widnows 下的版本是由微软的工程师们在维护. 在 Windows 下搭建好了环境之后,发现<code>Redis</code>在 Windows 下会有一些常见的崩溃情况,上网搜了下估计是 Windows 才会有的情况. 本篇主要介绍在 Linux(Ubuntu)下搭建 MEAN Stack 的相关内容,包括:</p>\n<ul>\n<li>Linux 下<code>Redis</code>的安装与配置</li>\n<li>Ubuntu 下<code>Node.js</code>与<code>MongoDB</code>安装与配置</li>\n<li>Linux 下<code>oracledb</code>的安装与配置</li>\n<li>Ubuntu 下<code>IntelliJ IDEA</code>的配置</li>\n</ul>\n<blockquote>\n<p>可能看起来有点奇怪,为什么我会<code>Linux</code>,<code>Ubuntu</code>这样穿插这顺序反过来写这是因为由于<code>Ubuntu</code>安装<code>Node.js</code>这方面我使用的是 <code>apt-get</code>来管理安装包而<code>oracledb</code>又是<code>Node.js</code>的一个类库</p>\n</blockquote>\n<h2 id=\"linux-下-redis-的安装与配置\">Linux 下 Redis 的安装与配置</h2>\n<h3 id=\"下载\">下载</h3>\n<p>从官方地址 <a href=\"https://github.com/antirez/redis/archive/2.8.23.tar.gz\">https://github.com/antirez/redis/archive/2.8.23.tar.gz</a> 下载. 由于项目用到的 Redis 版本是 2.8,所以下的是 2.8 版本.</p>\n<h3 id=\"安装\">安装</h3>\n<p>将 redis2.8.23.tar.gz 解压到任意文件夹.</p>\n<blockquote>\n<p>目前按照个人习惯还是放在 home 下面一个叫 server 的目录但是 unix 系统的路径与程序摆放位置应该是大有讲究的,近期将会加强研究之后更新结论先凑合着放</p>\n</blockquote>\n<p>此时文件列表应该如下:</p>\n<pre class=\"hljs\"><code>Macbook:redis-2.8.23 Aquariuslt$ tree -L 1\n.\n├── 00-RELEASENOTES\n├── BUGS\n├── CONTRIBUTING\n├── COPYING\n├── INSTALL\n├── MANIFESTO\n├── Makefile\n├── README\n├── deps\n├── redis.conf\n├── runtest\n├── runtest-sentinel\n├── sentinel.conf\n├── src\n├── tests\n└── utils\n\n4 directories, 12 files\n\n</code></pre>\n<p>看到有<code>makefile</code>就知道需要自己编译一边,其实这里按照官网的 Installation 就可以. 直接输入<code>make</code>编译</p>\n<pre class=\"hljs\"><code>$ wget https://download.redis.io/releases/redis-3.0.5.tar.gz\n$ tar xzf redis-3.0.5.tar.gz\n$ cd redis-3.0.5\n$ make\n</code></pre>\n<h3 id=\"以服务运行\">以服务运行</h3>\n<p>在<code>Redis</code>安装目录下有一些脚本,执行之后,帮助以 Service 运行</p>\n<pre class=\"hljs\"><code>\nIn order to install Redis binaries into /usr/local/bin just use:\n\n    % make install\n\nYou can use &quot;make PREFIX=/some/other/directory install&quot; if you wish to use a\ndifferent destination.\n\nMake install will just install binaries in your system, but will not configure\ninit scripts and configuration files in the appropriate place. This is not\nneeded if you want just to play a bit with Redis, but if you are installing\nit the proper way for a production system, we have a script doing this\nfor Ubuntu and Debian systems:\n\n    % cd utils\n    % ./install_server.sh\n\nThe script will ask you a few questions and will setup everything you need\nto run Redis properly as a background daemon that will start again on\nsystem reboots.\n\nYou'll be able to stop and start Redis using the script named\n/etc/init.d/redis_&lt;portnumber&gt;, for instance /etc/init.d/redis_6379.\n</code></pre>\n<p>如果执行<code>make install</code>命令,则自动 ln 到<code>/usr/local/bin</code> 如果执行<code>utils</code>路径下的<code>install_server.sh</code>则会添加启动项,开机自动运行.</p>\n<h2 id=\"ubuntu-下-nodejs-与-mongodb-的安装与配置\">Ubuntu 下 Node.js 与 MongoDB 的安装与配置</h2>\n<blockquote>\n<p>在 Linux 下<code>Node.js</code>的安装并不像<code>Windows</code>,<code>OS X</code>有.msi,.pkg 安装包走 UI 安装. 但是在各个发行版的 Linux 下都有自己对应的包管理器. <code>Ubuntu</code>就有自己的包管理器<code>apt-get</code>(但是会有坑)</p>\n</blockquote>\n<p>Ubuntu 安装<code>Node.js</code>可以分成如下步骤</p>\n<ol>\n<li>更新包管理器的版本,使之能够获取最新版本的应用程序包</li>\n<li>通过包管理器,安装<code>Node.js</code></li>\n<li>通过<code>npm</code>再更新一次<code>Node.js</code></li>\n</ol>\n<h3 id=\"更新-ubuntu-的包管理器\">更新 Ubuntu 的包管理器</h3>\n<pre class=\"hljs\"><code>$apt-get update\n</code></pre>\n<h3 id=\"通过包管理器安装-nodejs\">通过包管理器安装 Node.js</h3>\n<pre class=\"hljs\"><code>$apt-get install nodejs-legacy\n</code></pre>\n<p>通过此命令安装的是一个比较老版本的 Node.js 输入查看版本命令大概是 node v0.10 和 npm v1.14</p>\n<blockquote>\n<p>我也不知道为什么 Ubuntu 的 package list 更新了之后 Node.js 包版本还是那么低.. 下面更新的 Node.js 版本以 2015-12-13 官网的稳定版本为准</p>\n</blockquote>\n<pre class=\"hljs\"><code>node -v &amp;&amp; npm -v\n</code></pre>\n<p>这时候,首先先升级 <code>npm</code> 到 <code>npm3</code></p>\n<pre class=\"hljs\"><code>$npm install -g npm\n</code></pre>\n<blockquote>\n<p>此时 npm 的版本应该更新到 v3.5.1+</p>\n</blockquote>\n<p>然后通过<code>npm</code>安装一个用<code>node</code>去切换<code>node</code>版本的库,叫做<code>n</code></p>\n<pre class=\"hljs\"><code>$npm install -g n\n</code></pre>\n<p>接着用<code>n</code>去安装所需版本的<code>node.js</code></p>\n<pre class=\"hljs\"><code>$n v4.2.3\n</code></pre>\n<p>重启电脑之后在查看<code>node</code>和<code>npm</code>版本,应该如下图 <img src=\"/posts/2015/12/13/ubuntu-mean-development-environment-setup/update-nodejs.png\" alt=\"更新Node.js\"></p>\n<h2 id=\"linux-下-node-oracledb-的配置\">Linux 下 Node-OracleDB 的配置</h2>\n<p>Linux 下搭建好 node-oracledb 也是相当操蛋. 大概需要做下面几个工作:</p>\n<ul>\n<li>下载 version &gt;= 11.2 的 OracleInstantClient(basic&amp;sdk)</li>\n<li>设置环境变量,供构建 npm install oracledb 构建使用</li>\n</ul>\n<h3 id=\"下载-oracleinstantclient-for-linux\">下载 OracleInstantClient for Linux</h3>\n<p>官网还要登陆下载,太过傻逼.所以放出了个某度的链接 <a href=\"https://pan.baidu.com/s/1boxV2iV\">https://pan.baidu.com/s/1boxV2iV</a></p>\n<h3 id=\"设置环境变量\">设置环境变量</h3>\n<p>先将下载的两个 zip 包解压到<code>/opt/oracle/instantclient</code>下.</p>\n<blockquote>\n<p>官方推荐,可自行替换路径</p>\n</blockquote>\n<p>然后修改全局的环境变量.</p>\n<blockquote>\n<p><strong>注意</strong> 这里说的是 <strong>全局变量</strong>,这里曾经被坑过一次. 通过命令行的 <code>export PATH=XXX:PATH</code>之类的命令.只能作为临时变量,重启之后就会失效而 Linux 的环境变量,跟 Windows 类似,也分成全局的环境变量和当前用户的环境变量. 在系统启动之后,先读取全局变量,用户登陆之后,再继承全局环境变量的前提下,读取当前用户的环境变量</p>\n</blockquote>\n<pre class=\"hljs\"><code>$sudo gedit /etc/profile\n</code></pre>\n<p>在底部添加如下内容</p>\n<pre class=\"hljs\"><code># Export Oracle Client Varirable\nexport OCI_LIB_DIR=/opt/oracle/instantclient\nexport OCI_INC_DIR=/OPT/oracle/instantclient\nexport ORACLE_HOME=$OCI_LIB_DIR\nexport LD_LIBRARY_PATH=/opt/oracle/instantclient:$LD_LIBRARY_PATH\n</code></pre>\n<p><img src=\"/posts/2015/12/13/ubuntu-mean-development-environment-setup/add-oracle-cli-global-env-var.png\" alt=\"添加Oracle Client 相关全局环境变量\"></p>\n<p>此时执行命令安装 <code>oracledb</code> 大概应该不会出问题了</p>\n<blockquote>\n<p>其实还有个小问题,<code>oracledb</code>得必须是 1.3.0 以上的版本..不然爆的错我也无法入手解决</p>\n</blockquote>\n<pre class=\"hljs\"><code>$npm install oracledb\n</code></pre>\n<h2 id=\"ubuntu-下-intellij-idea-的配置\">Ubuntu 下 IntelliJ IDEA 的配置</h2>\n<p>终于到重头戏了.其实我就是想说这个在 GNOME 下安装 Idea 遵循下面几步</p>\n<ol>\n<li>安装 JDK,设置 JDK 相关环境变量</li>\n<li>配置 Idea 在 Ubuntu 的启动图标</li>\n<li>一些关于 Idea 在 Linux 下与 Widnows/Mac 不同的特殊配置</li>\n</ol>\n<h3 id=\"安装-jdk\">安装 JDK</h3>\n<p>从 Oracle 官网下载 Linux 版本 jdk,解压到<code>/usr/lib/jvm/jdk8</code>下.</p>\n<blockquote>\n<p>该路径也是个人喜好,官网推荐这么做就照做了因为 Idea 启动的时候需要检查 Java 的安装.且是按照<code>IDEA_JDK</code>, <code>JDK_HOME</code>,<code>JAVA_HOME</code>的顺序来进行查找,只要其中之一存在且对应了 JDK 的路径即可</p>\n</blockquote>\n<p>所以,在系统中添加全局环境变量如下图</p>\n<pre class=\"hljs\"><code>$sudo gedit /etc/profile\n</code></pre>\n<p>在底部添加</p>\n<pre class=\"hljs\"><code># Set JAVA_HOME fOR Maven/Idea Settings\nexport JAVA_HOME=/usr/lib/jvm/jdk8\nexport JDK_HOME=$JAVA_HOME\nexport IDEA_JDK=$JAVA_HOME\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n<p>保存后,查看 java 版本</p>\n<pre class=\"hljs\"><code>$java -version\n</code></pre>\n<p><img src=\"/posts/2015/12/13/ubuntu-mean-development-environment-setup/config-jdk-path.png\" alt=\"配置JDK路径\"></p>\n<h3 id=\"配置-idea-在-ubuntu-中的启动图标\">配置 Idea 在 Ubuntu 中的启动图标</h3>\n<p>默认情况下,通过 Idea 目录下的<code>/bin/idea.sh</code>即可启动 IdeaUI 但是为了能够显示 Ubuntu 的 docker 里面(左边那条任务栏,不知道叫什么东西,叫 docker 吧)</p>\n<p>需要在<code>/usr/share/applications</code>下新建一个<code>intellij-idea.desktop</code> 加个配置文件</p>\n<blockquote>\n<p>我本地的 Idea 解压后的目录在<code>/home/dev/Applications/IntellijIdea15</code></p>\n</blockquote>\n<pre class=\"hljs\"><code>[Desktop Entry]\nType=Application\nName=IntelliJ IDEA\nComment=The best Java and MEAN IDE\nIcon=/home/dev/Applications/IntellijIdea15/bin/idea.png\nExec=/home/dev/Applications/IntellijIdea15/bin/idea.sh\nTerminal=false\nCategories=Development;IDE;Java;\n</code></pre>\n<p><img src=\"/posts/2015/12/13/ubuntu-mean-development-environment-setup/add-app-launch-icon.png\" alt=\"添加Ubuntu Applications启动图标\"></p>\n<h3 id=\"idea-在-ubuntu-下一些特殊的配置\">Idea 在 Ubuntu 下一些特殊的配置</h3>\n<blockquote>\n<p>虽然都是类 Unix 系统,Idea 跟 Mac 在一些读取环境变量时候的做法不大一样. 本质上其实还是我对他认识不够深,还找不到原因..以后找到会更新 Liux 下在<code>run configuration</code>里面添加新的<code>Node.js</code>脚本或者<code>shell</code>脚本的时候,有一些不一样的地方就是通过 Ubuntu 桌面启动 Idea,会读不到用户级别的环境变量. 所以有一在配置一些的脚本的时候,需要确保运行时的环境变量,查看方法</p>\n</blockquote>\n<p>在<code>Run Configurations</code>-&gt;<code>Environment Variables</code>-&gt;<code>Include Parents Variables</code>-&gt;<code>Show</code> 查看所有环境变量. 如果没有,烦请自己加上,为求能达到与 Terminal 运行同样的结果.</p>\n<p><img src=\"/posts/2015/12/13/ubuntu-mean-development-environment-setup/check-run-configuration.png\" alt=\"查看Run Configurations全局变量\"></p>\n","disqus":{"shortname":"aquariuslt","url":"https://zexo.dev/posts/2015/12/13/ubuntu-mean-development-environment-setup","identifier":"-posts-2015-12-13-ubuntu-mean-development-environment-setup"}}}