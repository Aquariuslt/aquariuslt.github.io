{"key":"enable-motion-sense-on-pixel-4-xl-after-march-update","url":"https://zexo.dev/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update","path":"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update","title":"Pixel 4 XL 在中国地区开启 Motion Sense - zexo.dev","breadcrumbs":{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://zexo.dev","name":"Home","position":1},{"@type":"ListItem","item":"https://zexo.dev/posts","name":"Posts","position":2},{"@type":"ListItem","item":"https://zexo.dev/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update","name":"Pixel 4 XL 在中国地区开启 Motion Sense","position":3}]},"type":"DETAIL","metas":[{"name":"google-site-verification","content":"s3PYm0fCo0ImPqqXoPLiUb_bFdlYODKw54VGSkcFgyE"},{"id":"google-analytics","name":"google-analytics","content":"UA-68904127-2"},{"name":"og:site_name","content":"zexo.dev"},{"name":"og:type","content":"website"},{"name":"og:title","itemprop":"name","content":"Pixel 4 XL 在中国地区开启 Motion Sense"},{"name":"og:description","itemprop":"description","content":"我作为 Nexus 5 / Nexus 7 / Pixel / Pixel 3 XL / Pixel 4 XL 的持有者，为了顺利地在及时更新到最新版本的系统的同时也保证在国内使用 Google 原生系统的大部分体验，必须掌握一手 root 的科学方法。\n"},{"name":"og:image","itemprop":"image","content":"https:/zexo.dev/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/motion-sense-skip-song.png"},{"name":"og:type","content":"article"},{"name":"description","itemprop":"description","content":"我作为 Nexus 5 / Nexus 7 / Pixel / Pixel 3 XL / Pixel 4 XL 的持有者，为了顺利地在及时更新到最新版本的系统的同时也保证在国内使用 Google 原生系统的大部分体验，必须掌握一手 root 的科学方法。\n"}],"data":{"title":"Pixel 4 XL 在中国地区开启 Motion Sense","id":"enable-motion-sense-on-pixel-4-xl-after-march-update","created":"2020-03-28T00:00:00.000Z","updated":"2020-03-28T00:00:00.000Z","categories":[{"id":"blog","label":"Blog","total":0,"link":"/categories/blog"}],"tags":[{"id":"android","label":"Android","total":0,"link":"/tags/android"},{"id":"google","label":"Google","total":1,"link":"/tags/google"}],"cover":"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/motion-sense-skip-song.png","images":["./magisk.png","magisk-patch-image-step-1.png","./magisk-patch-image-step-2.png","./magisk-patch-boot-img.png","./magisk-superuser.png","./check-motion-sense-at-settings.png"],"toc":[{"label":"Pixel 4 XL 在中国地区开启 Motion Sense","level":1,"id":"pixel-4-xl-在中国地区开启-motion-sense","position":0,"children":[],"pid":-1},{"label":"环境准备","level":2,"id":"环境准备","position":1,"children":[],"pid":0},{"label":"1. 使用 Magisk 对 Google Pixel 4 XL 进行 root 操作","level":2,"id":"1-使用-magisk-对-google-pixel-4-xl-进行-root-操作","position":2,"children":[],"pid":0},{"label":"1.1. 将 boot.img 从电脑移动到手机","level":3,"id":"11-将-bootimg-从电脑移动到手机","position":3,"children":[],"pid":2},{"label":"1.2. 使用 Magisk patch 传递进去的 boot.img","level":3,"id":"12-使用-magisk-patch-传递进去的-bootimg","position":4,"children":[],"pid":2},{"label":"1.3. 使用 adb/fastboot 进行 boot.img 修复","level":3,"id":"13-使用-adbfastboot-进行-bootimg-修复","position":5,"children":[],"pid":2},{"label":"2. 使用 adb shell 脚本开启 motion sense","level":2,"id":"2-使用-adb-shell-脚本开启-motion-sense","position":6,"children":[],"pid":0},{"label":"References","level":2,"id":"references","position":7,"children":[],"pid":0}],"summary":"我作为 Nexus 5 / Nexus 7 / Pixel / Pixel 3 XL / Pixel 4 XL 的持有者，为了顺利地在及时更新到最新版本的系统的同时也保证在国内使用 Google 原生系统的大部分体验，必须掌握一手 root 的科学方法。\n","src":"\n# Pixel 4 XL 在中国地区开启 Motion Sense\n\n> 我作为 Nexus 5 / Nexus 7 / Pixel / Pixel 3 XL / Pixel 4 XL 的持有者，为了顺利地在及时更新到最新版本的系统的同时也保证在国内使用 Google 原生系统的大部分体验，必须掌握一手 root 的科学方法。\n\n适逢 Google Pixel 4 带来了新的 Notion Sence 功能 (就是那个摆手切歌的传感器功能)，对系统的破解有着更高的要求，在每次系统打上新的安全补丁后，使用 magisk 执行的 root 都会失效一次，年纪大了机型不太行，每次都得 Google 一番几个月前执行过的操作。此文主要做记录用。\n\n为了达到 Pixel 4 XL 开启 Notion Scene 的功能，主要参考的是去年年底 Pixel 4 发布后不久的位于 XDA-Developers 的文章进行 root，再配合一些国内特有的 Magisk 模块进行对系统开启 Location History / Motion Sense 的限制。\n\n简而言之，顺序大致如下:\n\n1. 使用 Magisk 对 Google Pixel 4 XL 进行 root 操作\n2. 使用 Magisk 模块开启 Motion Sense\n\n## 环境准备\n\n硬件: 一台未 root 但已经解锁 bootloader 的 Pixel 4 ，系统安全补丁更新到最新\n\n软件: 基础的科学上网环境，adb 环境 (adb + fastboot)，硬件对应的 Google Factory Image\n\n手机软件: 已安装 Magisk\n\nGoogle Factory Images 下载地址: [https://developers.google.com/android/images](https://developers.google.com/android/images)\n\n> 截止编辑时最新的 Pixel 4 XL 镜像版本是 `10.0.0 (QQ2A.200305.003, Mar 2020, All carriers except AT&T)`\n\n下载镜像文件 zip，解压 zip 文件，再解压里面的 `image-*.zip` 后的文件目录大概如下: 我们需要用到这里的 `boot.img` 镜像\n\n```\n├── coral-qq2a.200305.003\n│   ├── bootloader-coral-c2f2-0.2-6118748.img\n│   ├── flash-all.bat\n│   ├── flash-all.sh\n│   ├── flash-base.sh\n│   ├── image-coral-qq2a.200305.003\n│   │   ├── android-info.txt\n│   │   ├── boot.img\n│   │   ├── dtbo.img\n│   │   ├── product.img\n│   │   ├── super_empty.img\n│   │   ├── system.img\n│   │   ├── system_other.img\n│   │   ├── vbmeta.img\n│   │   ├── vbmeta_system.img\n│   │   └── vendor.img\n│   ├── image-coral-qq2a.200305.003.zip\n│   └── radio-coral-g8150-00055-200110-b-6126839.img\n```\n\n## 1. 使用 Magisk 对 Google Pixel 4 XL 进行 root 操作\n\n### 1.1. 将 boot.img 从电脑移动到手机\n\n此步骤可以使用 `adb push` 命令:\n\n个人建议将 boot.img 移动到手机的 `/sdcard/Download` 文件夹，方便记忆。 (不同版本请根据实际路径切换)\n\n```bash\nadb push coral-qq2a.200305.003/image-coral-qq2a.200305.003/boot.img /sdcard/Download\n```\n\n### 1.2. 使用 Magisk patch 传递进去的 boot.img\n\n接着，把这个 `magisk_patched.img` 传递到 PC 上。\n\n```bash\nadb pull /sdcard/Download/magisk_patched.img patched.img\n```\n\n打开 Magisk\n\n![magisk](./magisk.png)\n\n点击上方的 install\n\n![magisk-patch-image-step-1](magisk-patch-image-step-1.png)\n\n选择下一步 method - `select-and-patch a file`\n\n![magisk-patch-image-step-2](./magisk-patch-image-step-2.png)\n\n成功创建 `magisk-patched.img`\n\n![magisk-patch-boot-img](./magisk-patch-boot-img.png)\n\n### 1.3. 使用 adb/fastboot 进行 boot.img 修复\n\n执行如下的三步脚本\n\n```bash\nadb reboot bootloader\nfastboot flash boot_a patched.img\nfastboot flash boot_b patched.img\n```\n\n应当输出如下内容:\n\n```bash\n$ fastboot flash boot_a patched.img\nSending 'boot_a' (32148 KB)                        OKAY [  0.840s]\nWriting 'boot_a'                                   OKAY [  0.236s]\nFinished. Total time: 1.297s\n\n\n$ fastboot flash boot_b patched.img\nSending 'boot_b' (32148 KB)                        OKAY [  0.840s]\nWriting 'boot_b'                                   OKAY [  0.323s]\nFinished. Total time: 1.383s\n```\n\n之后重启手机进入系统，应当是已 root 的状态\n\n![magisk-superuser](./magisk-superuser.png)\n\n## 2. 使用 adb shell 脚本开启 motion sense\n\n> 由于三月更新后，大部分开启 Motion Sense 的 Magisk Module 都失效了，暂时以 临时脚本作为解决方案。缺点是重启失效\n\n临时方案: 执行以下脚本已去除 Motion Sense 开启的限制\n\n```bash\nadb shell\nsu root\nsetprop pixel.oslo.allowed_override 1\nsetprop persist.pixel.oslo.allowed_override 1\nsetprop ctl.restart zygote\n```\n\n验证效果:\n\n![check-motion-sense-at-settings](./check-motion-sense-at-settings.png)\n\n\n> Note: 2020-07-17 已向 Magisk Module Repo 提交相关插件，\n> 目前可以直接使用 [Github Release](https://github.com/aquariuslt/enable-motion-sense/releases) 链接下载 zip 文件进行解压。\n\n\n> Note: 2020-09-10 Android 11 更新后，使用 Magisk Canary 版本进行相同操作，成功启用\n> 但 Riru Core 相关模块部分工作不正常。\n\n\n## References\n\n- How to root Google Pixel 4 or Pixel 4 XL - XDA [https://www.xda-developers.com/google-pixel-4-root-magisk/](https://www.xda-developers.com/google-pixel-4-root-magisk/)\n","html":"<h1 id=\"pixel-4-xl-在中国地区开启-motion-sense\">Pixel 4 XL 在中国地区开启 Motion Sense</h1>\n<blockquote>\n<p>我作为 Nexus 5 / Nexus 7 / Pixel / Pixel 3 XL / Pixel 4 XL 的持有者，为了顺利地在及时更新到最新版本的系统的同时也保证在国内使用 Google 原生系统的大部分体验，必须掌握一手 root 的科学方法。</p>\n</blockquote>\n<p>适逢 Google Pixel 4 带来了新的 Notion Sence 功能 (就是那个摆手切歌的传感器功能)，对系统的破解有着更高的要求，在每次系统打上新的安全补丁后，使用 magisk 执行的 root 都会失效一次，年纪大了机型不太行，每次都得 Google 一番几个月前执行过的操作。此文主要做记录用。</p>\n<p>为了达到 Pixel 4 XL 开启 Notion Scene 的功能，主要参考的是去年年底 Pixel 4 发布后不久的位于 XDA-Developers 的文章进行 root，再配合一些国内特有的 Magisk 模块进行对系统开启 Location History / Motion Sense 的限制。</p>\n<p>简而言之，顺序大致如下:</p>\n<ol>\n<li>使用 Magisk 对 Google Pixel 4 XL 进行 root 操作</li>\n<li>使用 Magisk 模块开启 Motion Sense</li>\n</ol>\n<h2 id=\"环境准备\">环境准备</h2>\n<p>硬件: 一台未 root 但已经解锁 bootloader 的 Pixel 4 ，系统安全补丁更新到最新</p>\n<p>软件: 基础的科学上网环境，adb 环境 (adb + fastboot)，硬件对应的 Google Factory Image</p>\n<p>手机软件: 已安装 Magisk</p>\n<p>Google Factory Images 下载地址: <a href=\"https://developers.google.com/android/images\">https://developers.google.com/android/images</a></p>\n<blockquote>\n<p>截止编辑时最新的 Pixel 4 XL 镜像版本是 <code>10.0.0 (QQ2A.200305.003, Mar 2020, All carriers except AT&amp;T)</code></p>\n</blockquote>\n<p>下载镜像文件 zip，解压 zip 文件，再解压里面的 <code>image-*.zip</code> 后的文件目录大概如下: 我们需要用到这里的 <code>boot.img</code> 镜像</p>\n<pre class=\"hljs\"><code>├── coral-qq2a.200305.003\n│   ├── bootloader-coral-c2f2-0.2-6118748.img\n│   ├── flash-all.bat\n│   ├── flash-all.sh\n│   ├── flash-base.sh\n│   ├── image-coral-qq2a.200305.003\n│   │   ├── android-info.txt\n│   │   ├── boot.img\n│   │   ├── dtbo.img\n│   │   ├── product.img\n│   │   ├── super_empty.img\n│   │   ├── system.img\n│   │   ├── system_other.img\n│   │   ├── vbmeta.img\n│   │   ├── vbmeta_system.img\n│   │   └── vendor.img\n│   ├── image-coral-qq2a.200305.003.zip\n│   └── radio-coral-g8150-00055-200110-b-6126839.img\n</code></pre>\n<h2 id=\"1-使用-magisk-对-google-pixel-4-xl-进行-root-操作\">1. 使用 Magisk 对 Google Pixel 4 XL 进行 root 操作</h2>\n<h3 id=\"11-将-bootimg-从电脑移动到手机\">1.1. 将 boot.img 从电脑移动到手机</h3>\n<p>此步骤可以使用 <code>adb push</code> 命令:</p>\n<p>个人建议将 boot.img 移动到手机的 <code>/sdcard/Download</code> 文件夹，方便记忆。 (不同版本请根据实际路径切换)</p>\n<pre class=\"hljs\"><code>adb push coral-qq2a.200305.003/image-coral-qq2a.200305.003/boot.img /sdcard/Download\n</code></pre>\n<h3 id=\"12-使用-magisk-patch-传递进去的-bootimg\">1.2. 使用 Magisk patch 传递进去的 boot.img</h3>\n<p>接着，把这个 <code>magisk_patched.img</code> 传递到 PC 上。</p>\n<pre class=\"hljs\"><code>adb pull /sdcard/Download/magisk_patched.img patched.img\n</code></pre>\n<p>打开 Magisk</p>\n<p>\n        <picture>\n          <source srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAJWAQMAAAA6AtlxAAAAA1BMVEX///+nxBvIAAAAi0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wbVlQABttAC+QAAAABJRU5ErkJggg==\"  data-srcset=\"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/magisk.webp\" type=\"image/webp\" data-was-processed=\"false\" />\n          <img alt=\"\" class=\"lazy\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAJWAQMAAAA6AtlxAAAAA1BMVEX///+nxBvIAAAAi0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wbVlQABttAC+QAAAABJRU5ErkJggg==\" data-src=\"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/magisk.png\" loading=\"lazy\"/>\n        </picture>\n    </p>\n<p>点击上方的 install</p>\n<p>\n        <picture>\n          <source srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAJWAQMAAAA6AtlxAAAAA1BMVEX///+nxBvIAAAAi0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wbVlQABttAC+QAAAABJRU5ErkJggg==\"  data-srcset=\"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/magisk-patch-image-step-1.webp\" type=\"image/webp\" data-was-processed=\"false\" />\n          <img alt=\"\" class=\"lazy\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAJWAQMAAAA6AtlxAAAAA1BMVEX///+nxBvIAAAAi0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wbVlQABttAC+QAAAABJRU5ErkJggg==\" data-src=\"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/magisk-patch-image-step-1.png\" loading=\"lazy\"/>\n        </picture>\n    </p>\n<p>选择下一步 method - <code>select-and-patch a file</code></p>\n<p>\n        <picture>\n          <source srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAJWAQMAAAA6AtlxAAAAA1BMVEX///+nxBvIAAAAi0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wbVlQABttAC+QAAAABJRU5ErkJggg==\"  data-srcset=\"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/magisk-patch-image-step-2.webp\" type=\"image/webp\" data-was-processed=\"false\" />\n          <img alt=\"\" class=\"lazy\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAJWAQMAAAA6AtlxAAAAA1BMVEX///+nxBvIAAAAi0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wbVlQABttAC+QAAAABJRU5ErkJggg==\" data-src=\"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/magisk-patch-image-step-2.png\" loading=\"lazy\"/>\n        </picture>\n    </p>\n<p>成功创建 <code>magisk-patched.img</code></p>\n<p>\n        <picture>\n          <source srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAJWAQMAAAA6AtlxAAAAA1BMVEX///+nxBvIAAAAi0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wbVlQABttAC+QAAAABJRU5ErkJggg==\"  data-srcset=\"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/magisk-patch-boot-img.webp\" type=\"image/webp\" data-was-processed=\"false\" />\n          <img alt=\"\" class=\"lazy\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAJWAQMAAAA6AtlxAAAAA1BMVEX///+nxBvIAAAAi0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wbVlQABttAC+QAAAABJRU5ErkJggg==\" data-src=\"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/magisk-patch-boot-img.png\" loading=\"lazy\"/>\n        </picture>\n    </p>\n<h3 id=\"13-使用-adbfastboot-进行-bootimg-修复\">1.3. 使用 adb/fastboot 进行 boot.img 修复</h3>\n<p>执行如下的三步脚本</p>\n<pre class=\"hljs\"><code>adb reboot bootloader\nfastboot flash boot_a patched.img\nfastboot flash boot_b patched.img\n</code></pre>\n<p>应当输出如下内容:</p>\n<pre class=\"hljs\"><code>$ fastboot flash boot_a patched.img\nSending <span class=\"hljs-string\">&#x27;boot_a&#x27;</span> (32148 KB)                        OKAY [  0.840s]\nWriting <span class=\"hljs-string\">&#x27;boot_a&#x27;</span>                                   OKAY [  0.236s]\nFinished. Total time: 1.297s\n\n\n$ fastboot flash boot_b patched.img\nSending <span class=\"hljs-string\">&#x27;boot_b&#x27;</span> (32148 KB)                        OKAY [  0.840s]\nWriting <span class=\"hljs-string\">&#x27;boot_b&#x27;</span>                                   OKAY [  0.323s]\nFinished. Total time: 1.383s\n</code></pre>\n<p>之后重启手机进入系统，应当是已 root 的状态</p>\n<p>\n        <picture>\n          <source srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAJWAQMAAAA6AtlxAAAAA1BMVEX///+nxBvIAAAAi0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wbVlQABttAC+QAAAABJRU5ErkJggg==\"  data-srcset=\"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/magisk-superuser.webp\" type=\"image/webp\" data-was-processed=\"false\" />\n          <img alt=\"\" class=\"lazy\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAJWAQMAAAA6AtlxAAAAA1BMVEX///+nxBvIAAAAi0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wbVlQABttAC+QAAAABJRU5ErkJggg==\" data-src=\"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/magisk-superuser.png\" loading=\"lazy\"/>\n        </picture>\n    </p>\n<h2 id=\"2-使用-adb-shell-脚本开启-motion-sense\">2. 使用 adb shell 脚本开启 motion sense</h2>\n<blockquote>\n<p>由于三月更新后，大部分开启 Motion Sense 的 Magisk Module 都失效了，暂时以 临时脚本作为解决方案。缺点是重启失效</p>\n</blockquote>\n<p>临时方案: 执行以下脚本已去除 Motion Sense 开启的限制</p>\n<pre class=\"hljs\"><code>adb shell\nsu root\nsetprop pixel.oslo.allowed_override 1\nsetprop persist.pixel.oslo.allowed_override 1\nsetprop ctl.restart zygote\n</code></pre>\n<p>验证效果:</p>\n<p>\n        <picture>\n          <source srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAJWAQMAAAA6AtlxAAAAA1BMVEX///+nxBvIAAAAi0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wbVlQABttAC+QAAAABJRU5ErkJggg==\"  data-srcset=\"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/check-motion-sense-at-settings.webp\" type=\"image/webp\" data-was-processed=\"false\" />\n          <img alt=\"\" class=\"lazy\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAJWAQMAAAA6AtlxAAAAA1BMVEX///+nxBvIAAAAi0lEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wbVlQABttAC+QAAAABJRU5ErkJggg==\" data-src=\"/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update/check-motion-sense-at-settings.png\" loading=\"lazy\"/>\n        </picture>\n    </p>\n<blockquote>\n<p>Note: 2020-07-17 已向 Magisk Module Repo 提交相关插件，\n目前可以直接使用 <a href=\"https://github.com/aquariuslt/enable-motion-sense/releases\">Github Release</a> 链接下载 zip 文件进行解压。</p>\n</blockquote>\n<blockquote>\n<p>Note: 2020-09-10 Android 11 更新后，使用 Magisk Canary 版本进行相同操作，成功启用\n但 Riru Core 相关模块部分工作不正常。</p>\n</blockquote>\n<h2 id=\"references\">References</h2>\n<ul>\n<li>How to root Google Pixel 4 or Pixel 4 XL - XDA <a href=\"https://www.xda-developers.com/google-pixel-4-root-magisk/\">https://www.xda-developers.com/google-pixel-4-root-magisk/</a></li>\n</ul>\n","disqus":{"shortname":"aquariuslt","url":"https://zexo.dev/posts/2020/03/28/enable-motion-sense-on-pixel-4-xl-after-march-update","identifier":"-posts-2020-03-28-enable-motion-sense-on-pixel-4-xl-after-march-update"}}}